\begin{pattern}{CovariantGeneric}
According to the generics are invariant.

\instances{}
The following snippet%
\footnote{\url{http://bit.ly/arpruss_raspberryjammod_2USL7Ai}}


\footnote{\url{https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html\#singletonList-T-}}

%https://lgtm.com/projects/g/arpruss/raspberryjammod/snapshot/dist-1796220064-1524814812150/files/build/sources/java/org/java_websocket/drafts/Draft_10.java?sort=name&dir=ASC&mode=heatmap#L157
\begin{minted}[highlightlines=5]{java}
@Override
public List<Framedata> createFrames( String text, boolean mask ) {
    FrameBuilder curframe = new FramedataImpl1();
    // [...]
    return Collections.singletonList( (Framedata) curframe );
}

public interface FrameBuilder extends Framedata {
    // [...]
}

public class Collections {
    public static <T> List<T> singletonList(T o) {
        // [...]
    }
}
\end{minted}

The 
\footnote{\url{http://bit.ly/jfaster_mango_2EhXzUW}}

%https://lgtm.com/projects/g/jfaster/mango/snapshot/dist-1793930711-1524814812150/files/src/test/java/org/jfaster/mango/operator/UpdateOperatorTest.java?sort=name&dir=ASC&mode=heatmap#L125
\begin{minted}[highlightlines=6]{java}
@Test
public void testUpdateReturnBoolean() throws Exception {
    // [...]
    List<Object> args = boundSql.getArgs();
    // [...]
    assertThat(args.get(0), equalTo((Object) "ash"));
    // [...]
}

public static <T> Matcher<T> equalTo(T operand) {
    // [...]
}
\end{minted}


\footnote{\url{http://bit.ly/spockframework_spock_2UYEsF5}}

\footnote{\url{http://docs.groovy-lang.org/latest/html/api/org/codehaus/groovy/ast/expr/ArrayExpression.html\#<init>(org.codehaus.groovy.ast.ClassNode,java.util.List)}}

%https://lgtm.com/projects/g/spockframework/spock/snapshot/dist-7950040-1524814812150/files/spock-core/src/main/java/org/spockframework/compiler/WhereBlockRewriter.java?sort=name&dir=ASC&mode=heatmap#L360
\begin{minted}[highlightlines=5]{java}
dataProcessorStats.add(
    new ReturnStatement(
        new ArrayExpression(
            ClassHelper.OBJECT_TYPE,
            (List) dataProcessorVars)));

private final List<VariableExpression> dataProcessorVars = new ArrayList<>();

public class ArrayExpression extends Expression {
    public ArrayExpression(ClassNode elementType,
                       java.util.List<Expression> expressions) {}
}
\end{minted}


\footnote{\url{http://bit.ly/EngineHub_WorldGuard_2IVUOx1}}

%https://lgtm.com/projects/g/EngineHub/WorldGuard/snapshot/dist-1795351250-1524814812150/files/worldguard-legacy/src/test/java/com/sk89q/worldguard/protection/FlagValueCalculatorTest.java?sort=name&dir=ASC&mode=heatmap#L1024


\detection{}

\discussion{}

Avoided with
\code{Collections.<Framedata>singletonList(curframe)}
From \java{} 8 this cast is unnecesary due to better type inference.
\footnote{\url{https://docs.oracle.com/javase/specs/jls/se8/html/jls-18.html\#jls-18.5}}

\todo{Mention}
reference \cite{altidorTamingWildcardsCombining2011}

\end{pattern}