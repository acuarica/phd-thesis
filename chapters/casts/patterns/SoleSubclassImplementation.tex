\begin{pattern}{SoleSubclassImplementation}
The \thisp{} occurs when an interface or abstract class has only one implementing subclass.
Casting the interface to this class must succeed because it cannot possibly be an instance of another class.

\instances{}
In the following example the \code{jobId}
variable is cast to the sole implementation (\code{JobIdImpl}).

%https://lgtm.com/projects/g/ow2-proactive/scheduling/snapshot/dist-6910096-1524814812150/files/scheduler/scheduler-api/src/main/java/org/ow2/proactive/scheduler/job/JobIdImpl.java?sort=name&dir=ASC&mode=heatmap#L118
\def\urlvar{http://bit.ly/ow2_proactive_scheduling_2Ulcjfs}
\begin{minted}[highlightlines=1,linenos=false]{java}
return Longs.compare(id, ((JobIdImpl) jobId).id);
#\urlbox#
\end{minted}

Similar to the previous example,
the variable \code{user} is cast to the known implementation (\code{UserImpl}).

%https://lgtm.com/projects/g/Javacord/Javacord/snapshot/dist-1791982360-1524814812150/files/src/main/java/de/btobastian/javacord/entities/message/impl/ImplMessage.java?sort=name&dir=ASC&mode=heatmap#L681
\def\urlvar{http://bit.ly/Javacord_Javacord_2GwGjuV}
\begin{minted}[highlightlines=2]{java}
for (User user : api.getUsers()) {
    if (channelId.equals(((ImplUser) user).getUserChannelId())) {
        return user;
    }
} #\urlbox#
\end{minted}


\issues{}
This pattern occurs when there is high cohesion between super and subclass.
In some cases, the cast instance appear in a generated class.
This mechanism allows the developer to extend this class to add custom code.
Therefore this high cohesion is acceptable.
The developer assumes that there is no other implementation of the base class,
otherwise the cast instance fails.

\end{pattern}
