\begin{pattern}{KnownReturnType}
There are cases when a method's return type is less specific than the
actual return type value.
This is usually to hide implementation details.
Nevertheless, sometimes it is convenient for the developer to work
directly on the actual return type.
This pattern is used to cast from the method's return type to
the \emph{known} actual return type.

\instances{}

\footnote{\url{http://bit.ly/apache_kylin_2SIjooO}}

%https://lgtm.com/projects/g/apache/kylin/snapshot/dist-45150010-1524814812150/files/storage-hbase/src/main/java/org/apache/kylin/storage/hbase/steps/HBaseMRSteps.java?sort=name&dir=ASC&mode=heatmap#L211
\begin{minted}[highlightlines=1]{java}
final List<CubeSegment> mergingSegments = ((CubeInstance) seg.getRealization())
            .getMergingSegments((CubeSegment) seg);

public class CubeSegment implements IBuildable, ISegment, Serializable {
    // [...]
    private CubeInstance cubeInstance;
    // [...]
    public IRealization getRealization() {
        return cubeInstance;
    }
}

public class CubeInstance
            extends RootPersistentEntity implements IRealization, IBuildable {
    // [...]
}
\end{minted}

\detection{}

\discussion{}

\related{}

\end{pattern}