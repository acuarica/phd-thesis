
\newcommand{\hlbox}[3]{
\begin{mdframed}[backgroundcolor=#2!00]
\rightline{ \footnotesize \emph{MRQ} }
% \ 

\centering
#1
\end{mdframed}
}

\newcommand{\discuss}[1]{\todo[color=yellow]{\textbf{[DISCUSS]} #1}}
% \newcommand{\done}[1]{\todo[color=cyan]{\footnotesize \textbf{[DONE]} #1}}
\newcommand{\done}[1]{}

\newcommand{\rquestion}[1]{\hlbox{#1}{yellow}{Research Question}}

\newcommand{\eg}{\textit{e.g.}}
\newcommand{\ie}{\textit{i.e.}}
\newcommand{\etc}{\textit{etc.}}
\newcommand{\adhoc}{\textit{ad-hoc}}
\newcommand{\perse}{\textit{per se}}
\newcommand{\circa}{\textit{circa}}

\newcommand{\phd}{Ph.D.}

\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\lang}[1]{\textsc{#1}}
\newcommand{\host}[1]{\textsl{#1}}

\newcommand{\api}{API}

\newcommand{\java}{\lang{Java}}
\newcommand{\csharp}{\lang{C\#}}
\newcommand{\cc}{\lang{C}}
\newcommand{\cpp}{\lang{C++}}
\newcommand{\smalltalk}{\lang{Smalltalk}}
\newcommand{\javascript}{\lang{JavaScript}}
\newcommand{\haskell}{\lang{Haskell}}
\newcommand{\scala}{\lang{Scala}}
\newcommand{\clojure}{\lang{Clojure}}
\newcommand{\ql}{\lang{QL}}
\newcommand{\fortran}{\lang{Fortran}}
\newcommand{\cobol}{\lang{Cobol}}
\newcommand{\pascal}{\lang{Pascal}}
\newcommand{\apl}{\lang{APL}}
\newcommand{\basic}{\lang{Basic}}
\newcommand{\swift}{\lang{Swift}}
\newcommand{\php}{\lang{PHP}}
\newcommand{\racket}{\lang{Racket}}
\newcommand{\rust}{\lang{Rust}}
\newcommand{\kotlin}{\lang{Kotlin}}
\newcommand{\ml}{\lang{ML}}

\newcommand{\jvm}{JVM}
\newcommand{\jvmti}{JVMTI}
\newcommand{\jni}{JNI}
\newcommand{\lilith}{Lilith}

\newcommand{\instanceof}{\code{instanceof}}
\newcommand{\throw}{\code{throw}}
\newcommand{\smu}{\code{sun.misc.Unsafe}}
\newcommand{\cce}{\code{ClassCastException}}
\newcommand{\npe}{\code{NullPointerException}}
\newcommand{\setjmp}{\code{setjmp}}
\newcommand{\longjmp}{\code{longjmp}}

\newcommand{\asm}{ASM}
\newcommand{\jnif}{JNIF}

\newcommand{\eval}{\code{eval}}

\newcommand{\github}{\host{GitHub}}
\newcommand{\gitlab}{\host{GitLab}}
\newcommand{\bitbucket}{\host{Bitbucket}}
\newcommand{\sourceforge}{\host{SourceForge}}
\newcommand{\maven}{\host{Maven}}
\newcommand{\mavencentral}{\host{Maven Central}}
\newcommand{\npm}{\host{npm}}
\newcommand{\boa}{\host{Boa}}
\newcommand{\candoia}{\host{Candoia}}
\newcommand{\lgtm}{\host{lgtm}}
\newcommand{\rascal}{\host{Rascal}}
\newcommand{\sourcegraph}{\host{sourcegraph}}
\newcommand{\bitly}{\host{Bitly}}

\newcommand{\hdr}{\rowcolor{header-color}}
\newcommand{\alt}{\rowcolor{alt-row-color}}
\newcommand{\row}{}

\newcommand{\unsafe}{\emph{Unsafe}}

\definecolor{header-color}{HTML}{D1D1D1}
\definecolor{alt-row-color}{HTML}{ECECEC}

\newcommand{\artstyle}[1]{\textsl{#1}}
\newcommand{\artexp}[2]{\artstyle{#1}:\artstyle{#2}}
\newcommand{\art}[3]{\artstyle{#1}:\artstyle{#2}\footnote{\url{#3}}}

\newcommand{\member}[1]{\emph{#1}}
\newcommand{\smugroup}[1]{\textsl{#1}}
\newcommand{\stackoverflow}{Stack Overflow}



\definecolor{lightgray}{rgb}{0.98,0.98,0.98}
\definecolor{lightblue}{rgb}{0.85,0.95,1}
\definecolor{gray}{rgb}{0.2,0.2,0.2}

% \definecolor{light-orange}{rgb}{1,0.6,0}

\definecolor{diffstart}{named}{Grey}
\definecolor{diffincl}{named}{Green}
\definecolor{diffrem}{named}{OrangeRed}
\definecolor{hl}{named}{OrangeRed}

\setminted[java]{
	baselinestretch=1,
	bgcolor=lightgray,
	fontsize=\footnotesize,
	highlightcolor=lightblue,
	tabsize=4,
	linenos
}

\setminted[scala]{
	baselinestretch=1,
	bgcolor=lightgray,
	fontsize=\footnotesize,
	highlightcolor=lightblue,
	tabsize=4,
	linenos
}

\lstdefinestyle{java}{
	language=java,
	tabsize=4,
	basicstyle=\scriptsize\ttfamily,
	numbers=left,
	numberstyle=\tiny\color{gray},
	numbersep=4pt,
	xleftmargin=0.2cm,
	% mathescape=true,
	keywordstyle=\color{blue}\textbf,
	stringstyle=\textcolor{magenta},
	captionpos=b,
	emph={Object, String, Integer, System, ClassCastException, Foo},
	emphstyle={\color{lightblue}},
    morecomment=[f][\color{diffstart}]{@@},
    morecomment=[f][\color{diffincl}]{+\ },
	morecomment=[f][\color{diffrem}]{-\ },
}

\lstdefinestyle{ql}{
	language=sql,
	tabsize=2,
	basicstyle=\scriptsize\ttfamily,
	numbers=left,
	numberstyle=\tiny\color{gray},
	numbersep=4pt,
	xleftmargin=0.2cm,
	mathescape=true,
	keywordstyle=\color{blue}\textbf,
	stringstyle=\color{magenta},
	captionpos=b,
	showstringspaces=false,
	keywords=[2]{import, predicate, java, instanceof},
	emph={CastExpr, PrimitiveType},
	emphstyle={\color{lightblue}}
}

\lstdefinestyle{bytecode}{
	language=java,
	tabsize=4,
	basicstyle=\footnotesize\ttfamily,
	numbers=left,
	numberstyle=\tiny\color{gray},
	numbersep=4pt,
	xleftmargin=0.2cm,
	% mathescape=true,
	keywordstyle=\color{blue}\textbf,
	stringstyle=\textcolor{magenta},
	captionpos=b,
	emph={ldc,invokestatic,astore_1,aload_1,invokevirtual,checkcast,astore_2},
	emphstyle={\color{lightblue}},
    morecomment=[f][\color{diffstart}]{@@},
    morecomment=[f][\color{diffincl}]{+\ },
	morecomment=[f][\color{diffrem}]{-\ },
}


% DONE: Changed "why" question.
\newcommand{\urqA}{To what extent does the Unsafe API impact common application code?}
\newcommand{\urqB}{How and when are Unsafe features used?}

% DONE: Is casting used in common application code? Yes. Change question.
% \todo{To what extent is}
% CRQ2: How and \underline{why} casts are used?
\newcommand{\crqA}{How frequently is casting used in common application code?}
\newcommand{\crqB}{How and when casts are used?}
\newcommand{\crqC}{How recurrent are the patterns for which casts are used?}